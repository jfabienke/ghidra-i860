# Function Analysis: FUN_00006e6c

**Analysis Date**: November 08, 2025
**Tool**: Ghidra 11.2.1 (m68k disassembly)
**Binary**: NDserver (Mach-O m68k executable)

---

## Function Overview

**Address**: `0x00006e6c`
**Size**: 272 bytes
**Call Depth**: 1
**Calls Made**: 9 total (3 internal, 6 library, 0 external)
**Called By**: 1 functions

---

## Called By

- `FUN_0000399c` at `0x00003c08`

---

## Complete Disassembly

```asm
; Address: 0x00006e6c
; Size: 272 bytes
; ============================================================================
  0x00006e6c:  link.w     A6,-0x200
  0x00006e70:  movem.l    {  A4 A3 A2 D2},SP
  0x00006e74:  movea.l    (0x8,A6),A1
  0x00006e78:  move.l     (0xc,A6),D1
  0x00006e7c:  movea.l    A1,A3
  0x00006e7e:  movea.l    D1,A4
  0x00006e80:  moveq      0x5,D2
  0x00006e82:  cmp.l      (0x14,A1),D2
  0x00006e86:  bcs.w      0x00006f74
  0x00006e8a:  move.l     (0x14,A1),D0
  0x00006e8e:  movea.l    #0x6e9a,A0
  0x00006e94:  movea.l    (0x0,A0,D0*0x4),A0
  0x00006e98:  jmp        A0
  0x00006eb2:  pea        (0x4010014).l
  0x00006eb8:  pea        (0x20,A3)
  0x00006ebc:  bsr.l      0x0500253a
  0x00006ec2:  bra.w      0x00006f80
  0x00006ec6:  pea        (0x4010014).l
  0x00006ecc:  bsr.l      0x050024f8
  0x00006ed2:  pea        (0x4010000).l
  0x00006ed8:  pea        (0x1ff).w
  0x00006edc:  lea        (-0x200,A6),A2
  0x00006ee0:  move.l     A2,-(SP)
  0x00006ee2:  bsr.l      0x05002510
  0x00006ee8:  move.l     A2,-(SP)
  0x00006eea:  bsr.l      0x05003038
  0x00006ef0:  addq.l     0x1,D0
  0x00006ef2:  move.l     D0,-(SP)
  0x00006ef4:  move.l     A2,-(SP)
  0x00006ef6:  move.l     (0x18,A3),-(SP)
  0x00006efa:  move.l     (0x10,A3),-(SP)
  0x00006efe:  bsr.l      0x00003eae                     ; -> FUN_00003eae
  0x00006f04:  adda.w     #0x24,SP
  0x00006f08:  bra.b      0x00006f54
  0x00006f0a:  lea        (0x4010000).l,A0
  0x00006f10:  subq.l     0x1,(A0)
  0x00006f12:  bmi.b      0x00006f24
  0x00006f14:  movea.l    (0x04010004).l,A0
  0x00006f1a:  move.b     (A0),D0b
  0x00006f1c:  addq.l     0x1,(0x04010004).l
  0x00006f22:  bra.b      0x00006f32
  0x00006f24:  pea        (0x4010000).l
  0x00006f2a:  bsr.l      0x0500208a
  0x00006f30:  addq.w     0x4,SP
  0x00006f32:  move.b     D0b,(-0x200,A6)
  0x00006f36:  clr.b      (-0x1ff,A6)
  0x00006f3a:  pea        (0x1).w
  0x00006f3e:  pea        (-0x200,A6)
  0x00006f42:  move.l     (0x18,A3),-(SP)
  0x00006f46:  move.l     (0x10,A3),-(SP)
  0x00006f4a:  bsr.l      0x00003eae                     ; -> FUN_00003eae
  0x00006f50:  addq.w     0x8,SP
  0x00006f52:  addq.w     0x8,SP
  0x00006f54:  tst.l      D0
  0x00006f56:  beq.b      0x00006f80
  0x00006f58:  move.l     D0,-(SP)
  0x00006f5a:  pea        (0x7a39).l
  0x00006f60:  bsr.l      0x050028c4
  0x00006f66:  bra.b      0x00006f80
  0x00006f68:  move.l     (0x20,A3),(0x000081ac).l
  0x00006f70:  clr.l      D0
  0x00006f72:  bra.b      0x00006f8a
  0x00006f74:  move.l     D1,-(SP)
  0x00006f76:  move.l     A1,-(SP)
  0x00006f78:  bsr.l      0x000075e2                     ; -> FUN_000075e2
```

---

## Hardware Access Analysis

### Hardware Registers Accessed

**SYSTEM_DATA**:
- `0x04010014` (ROM_CONFIG+0x14) - READ via `pea`
- `0x04010014` (ROM_CONFIG+0x14) - READ via `pea`
- `0x04010000` (ROM_CONFIG) - READ via `pea`
- `0x04010000` (ROM_CONFIG) - READ via `lea`
- `0x04010004` (ROM_CONFIG+0x4) - READ via `movea.l`
- `0x04010004` (ROM_CONFIG+0x4) - READ via `addq.l`
- `0x04010000` (ROM_CONFIG) - READ via `pea`


---

## Calls Made

### Internal Function Calls

- `FUN_00003eae` at `0x00003eae` (called from `0x00006efe`)
- `FUN_00003eae` at `0x00003eae` (called from `0x00006f4a`)
- `FUN_000075e2` at `0x000075e2` (called from `0x00006f78`)

### Library/System Calls

- `0x0500253a` (called from `0x00006ebc`)
- `0x050024f8` (called from `0x00006ecc`)
- `0x05002510` (called from `0x00006ee2`)
- `0x05003038` (called from `0x00006eea`)
- `0x0500208a` (called from `0x00006f2a`)
- `0x050028c4` (called from `0x00006f60`)


---

## Library/System Functions

### Library Functions Called

- `UNKNOWN` at `0x0500253a` (used 1x across codebase)
- `UNKNOWN` at `0x050024f8` (used 1x across codebase)
- `UNKNOWN` at `0x05002510` (used 1x across codebase)
- `UNKNOWN` at `0x05003038` (used 1x across codebase)
- `UNKNOWN` at `0x0500208a` (used 1x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)

---

## Function Classification

**Type**: Internal Function
**Complexity**: Calls 9 functions
**Hardware Interaction**: Yes

---

## Notes

- This documentation was automatically generated from disassembly analysis
- Function purpose and detailed behavior require manual reverse engineering
- See `FUNCTION_ANALYSIS_EXAMPLE.md` for an example of deep manual analysis

---

## Related Functions

### Calls

### Internal Function Calls

- `FUN_00003eae` at `0x00003eae` (called from `0x00006efe`)
- `FUN_00003eae` at `0x00003eae` (called from `0x00006f4a`)
- `FUN_000075e2` at `0x000075e2` (called from `0x00006f78`)

### Library/System Calls

- `0x0500253a` (called from `0x00006ebc`)
- `0x050024f8` (called from `0x00006ecc`)
- `0x05002510` (called from `0x00006ee2`)
- `0x05003038` (called from `0x00006eea`)
- `0x0500208a` (called from `0x00006f2a`)
- `0x050028c4` (called from `0x00006f60`)


### Called By

- `FUN_0000399c` at `0x00003c08`

---

*Generated by generate_all_function_docs.py*
