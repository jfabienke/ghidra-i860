# Function Analysis: FUN_00002dc6

**Analysis Date**: November 08, 2025
**Tool**: Ghidra 11.2.1 (m68k disassembly)
**Binary**: NDserver (Mach-O m68k executable)

---

## Function Overview

**Address**: `0x00002dc6`
**Size**: 662 bytes
**Call Depth**: 3
**Calls Made**: 35 total (13 internal, 22 library, 0 external)
**Called By**: 0 functions

---

## Called By

**None** - This function is not called by any other internal function (may be an entry point or unused)


---

## Complete Disassembly

```asm
; Address: 0x00002dc6
; Size: 662 bytes
; ============================================================================
  0x00002dc6:  link.w     A6,-0x14
  0x00002dca:  movem.l    {  A2 D4 D3 D2},SP
  0x00002dce:  movea.l    (0xc,A6),A2
  0x00002dd2:  clr.l      (-0x14,A6)
  0x00002dd6:  move.l     (A2),D4
  0x00002dd8:  moveq      -0x1,D3
  0x00002dda:  move.l     (0x8,A6),D2
  0x00002dde:  bra.b      0x00002e1e
  0x00002de0:  addq.w     0x4,A2
  0x00002de2:  movea.l    (A2),A0
  0x00002de4:  cmpi.b     #0x2d,(A0)
  0x00002de8:  bne.b      0x00002e1e
  0x00002dea:  pea        (0x7736).l
  0x00002df0:  move.l     A0,-(SP)
  0x00002df2:  bsr.l      0x05003008
  0x00002df8:  addq.w     0x8,SP
  0x00002dfa:  tst.l      D0
  0x00002dfc:  bne.b      0x00002e14
  0x00002dfe:  moveq      0x1,D1
  0x00002e00:  cmp.l      D2,D1
  0x00002e02:  bge.b      0x00002e14
  0x00002e04:  subq.l     0x1,D2
  0x00002e06:  addq.w     0x4,A2
  0x00002e08:  move.l     (A2),-(SP)
  0x00002e0a:  bsr.l      0x0500219e
  0x00002e10:  move.l     D0,D3
  0x00002e12:  bra.b      0x00002e1c
  0x00002e14:  move.l     D4,-(SP)
  0x00002e16:  bsr.l      0x0000305c                     ; -> FUN_0000305c
  0x00002e1c:  addq.w     0x4,SP
  0x00002e1e:  subq.l     0x1,D2
  0x00002e20:  bne.b      0x00002de0
  0x00002e22:  pea        (-0x4,A6)
  0x00002e26:  pea        (0x773e).l
  0x00002e2c:  pea        (0x774c).l
  0x00002e32:  move.l     (0x04010294).l,-(SP)
  0x00002e38:  bsr.l      0x05002a14
  0x00002e3e:  addq.w     0x8,SP
  0x00002e40:  addq.w     0x8,SP
  0x00002e42:  tst.l      D0
  0x00002e44:  beq.b      0x00002e5e
  0x00002e46:  move.l     D0,-(SP)
  0x00002e48:  pea        (0x774d).l
  0x00002e4e:  bsr.l      0x050028c4
  0x00002e54:  pea        (0x1).w
  0x00002e58:  bsr.l      0x050024b0
  0x00002e5e:  pea        (-0x8,A6)
  0x00002e62:  move.l     (-0x4,A6),-(SP)
  0x00002e66:  bsr.l      0x000042e8                     ; -> FUN_000042e8
  0x00002e6c:  addq.w     0x8,SP
  0x00002e6e:  tst.l      D0
  0x00002e70:  beq.b      0x00002e8e
  0x00002e72:  move.l     D0,-(SP)
  0x00002e74:  pea        (0x775c).l
  0x00002e7a:  bsr.l      0x050028c4
  0x00002e80:  pea        (0x1).w
  0x00002e84:  bsr.l      0x050024b0
  0x00002e8a:  move.l     D2,D3
  0x00002e8c:  bra.b      0x00002ea6
  0x00002e8e:  moveq      -0x1,D1
  0x00002e90:  cmp.l      D3,D1
  0x00002e92:  bne.b      0x00002ec2
  0x00002e94:  clr.l      D2
  0x00002e96:  move.l     (-0x8,A6),D0
  0x00002e9a:  btst.l     D2,D0
  0x00002e9c:  bne.b      0x00002e8a
  0x00002e9e:  addq.l     0x2,D2
  0x00002ea0:  moveq      0x7,D1
  0x00002ea2:  cmp.l      D2,D1
  0x00002ea4:  bge.b      0x00002e9a
  0x00002ea6:  moveq      -0x1,D1
  0x00002ea8:  cmp.l      D3,D1
  0x00002eaa:  bne.b      0x00002ee2
  0x00002eac:  pea        (0x776c).l
  0x00002eb2:  bsr.l      0x05002ce4
  0x00002eb8:  pea        (0x1).w
  0x00002ebc:  bsr.l      0x050024b0
  0x00002ec2:  move.l     (-0x8,A6),D1
  0x00002ec6:  btst.l     D3,D1
  0x00002ec8:  bne.b      0x00002ee2
  0x00002eca:  move.l     D3,-(SP)
  0x00002ecc:  pea        (0x778b).l
  0x00002ed2:  bsr.l      0x05002ce4
  0x00002ed8:  pea        (0x1).w
  0x00002edc:  bsr.l      0x050024b0
  0x00002ee2:  pea        (0x77af).l
  0x00002ee8:  pea        (0x77b6).l
  0x00002eee:  pea        (0x2000).l
  0x00002ef4:  move.l     D3,-(SP)
  0x00002ef6:  move.l     (-0x4,A6),-(SP)
  0x00002efa:  bsr.l      0x00005af6                     ; -> FUN_00005af6
  0x00002f00:  adda.w     #0x14,SP
  0x00002f04:  tst.l      D0
  0x00002f06:  beq.b      0x00002f20
  0x00002f08:  move.l     D0,-(SP)
  0x00002f0a:  pea        (0x77bd).l
  0x00002f10:  bsr.l      0x050028c4
  0x00002f16:  pea        (0x1).w
  0x00002f1a:  bsr.l      0x050024b0
  0x00002f20:  pea        (-0xc,A6)
  0x00002f24:  move.l     D3,-(SP)
  0x00002f26:  move.l     (-0x4,A6),-(SP)
  0x00002f2a:  bsr.l      0x00003820                     ; -> FUN_00003820
  0x00002f30:  move.l     (0x04010290).l,-(SP)
  0x00002f36:  move.l     (-0xc,A6),-(SP)
  0x00002f3a:  move.l     D3,-(SP)
  0x00002f3c:  move.l     (-0x4,A6),-(SP)
  0x00002f40:  bsr.l      0x00005178                     ; -> FUN_00005178
  0x00002f46:  adda.w     #0x1c,SP
  0x00002f4a:  tst.l      D0
  0x00002f4c:  beq.b      0x00002f66
  0x00002f4e:  move.l     D0,-(SP)
  0x00002f50:  pea        (0x77d3).l
  0x00002f56:  bsr.l      0x050028c4
  0x00002f5c:  pea        (0x1).w
  0x00002f60:  bsr.l      0x050024b0
  0x00002f66:  move.l     D3,-(SP)
  0x00002f68:  move.l     (-0x4,A6),-(SP)
  0x00002f6c:  bsr.l      0x00005d26                     ; -> FUN_00005d26
  0x00002f72:  clr.l      D2
  0x00002f74:  addq.w     0x8,SP
  0x00002f76:  pea        (-0x10,A6)
  0x00002f7a:  pea        (0x77e3).l
  0x00002f80:  move.l     D3,-(SP)
  0x00002f82:  move.l     (-0x4,A6),-(SP)
  0x00002f86:  bsr.l      0x00004a52                     ; -> FUN_00004a52
  0x00002f8c:  addq.w     0x8,SP
  0x00002f8e:  addq.w     0x8,SP
  0x00002f90:  tst.l      D0
  0x00002f92:  bne.b      0x00002fee
  0x00002f94:  pea        (0xa).w
  0x00002f98:  move.l     (-0x10,A6),-(SP)
  0x00002f9c:  bsr.l      0x00003200                     ; -> FUN_00003200
  0x00002fa2:  addq.w     0x8,SP
  0x00002fa4:  tst.l      D0
  0x00002fa6:  beq.b      0x00002fcc
  0x00002fa8:  move.l     D0,-(SP)
  0x00002faa:  pea        (0x77ea).l
  0x00002fb0:  bsr.l      0x050028c4
  0x00002fb6:  move.l     D3,-(SP)
  0x00002fb8:  move.l     (-0x4,A6),-(SP)
  0x00002fbc:  bsr.l      0x00003874                     ; -> FUN_00003874
  0x00002fc2:  pea        (0x1).w
  0x00002fc6:  bsr.l      0x050024b0
  0x00002fcc:  pea        (-0x14,A6)
  0x00002fd0:  move.l     D3,-(SP)
  0x00002fd2:  move.l     (-0x4,A6),-(SP)
  0x00002fd6:  bsr.l      0x00003284                     ; -> FUN_00003284
  0x00002fdc:  clr.l      -(SP)
  0x00002fde:  move.l     (-0x10,A6),-(SP)
  0x00002fe2:  bsr.l      0x00005d60                     ; -> FUN_00005d60
  0x00002fe8:  adda.w     #0x14,SP
  0x00002fec:  bra.b      0x00003004
  0x00002fee:  pea        (0x1).w
  0x00002ff2:  bsr.l      0x05002fa2
  0x00002ff8:  addq.w     0x4,SP
  0x00002ffa:  addq.l     0x1,D2
  0x00002ffc:  moveq      0x4,D1
  0x00002ffe:  cmp.l      D2,D1
  0x00003000:  bge.w      0x00002f76
  0x00003004:  move.l     (-0x14,A6),-(SP)
  0x00003008:  clr.l      -(SP)
  0x0000300a:  move.l     D3,-(SP)
  0x0000300c:  move.l     (-0x4,A6),-(SP)
  0x00003010:  bsr.l      0x0000399c                     ; -> FUN_0000399c
  0x00003016:  move.l     D3,-(SP)
  0x00003018:  move.l     (-0x4,A6),-(SP)
  0x0000301c:  bsr.l      0x00003874                     ; -> FUN_00003874
  0x00003022:  clr.l      -(SP)
  0x00003024:  bsr.l      0x050024b0
  0x0000302a:  nop
  0x0000302c:  link.w     A6,0x0
  0x00003030:  move.l     D2,-(SP)
  0x00003032:  bsr.l      0x05002696
  0x00003038:  move.l     D0,D2
  0x0000303a:  pea        (0x5).w
  0x0000303e:  bsr.l      0x05002fa2
  0x00003044:  clr.l      (SP)
  0x00003046:  move.l     D2,-(SP)
  0x00003048:  bsr.l      0x0500282e
  0x0000304e:  addq.w     0x8,SP
  0x00003050:  tst.l      D0
  0x00003052:  beq.b      0x0000303a
  0x00003054:  move.l     (-0x4,A6),D2
  0x00003058:  unlk       A6
  0x0000305a:  rts
; ============================================================================
```

---

## Hardware Access Analysis

### Hardware Registers Accessed

**SYSTEM_DATA**:
- `0x04010294` (SYSTEM_PORT) - READ via `move.l`
- `0x04010290` (SYSTEM_PORT+0x4) - READ via `move.l`


---

## Calls Made

### Internal Function Calls

- `FUN_0000305c` at `0x0000305c` (called from `0x00002e16`)
- `FUN_000042e8` at `0x000042e8` (called from `0x00002e66`)
- `FUN_00005af6` at `0x00005af6` (called from `0x00002efa`)
- `FUN_00003820` at `0x00003820` (called from `0x00002f2a`)
- `FUN_00005178` at `0x00005178` (called from `0x00002f40`)
- `FUN_00005d26` at `0x00005d26` (called from `0x00002f6c`)
- `FUN_00004a52` at `0x00004a52` (called from `0x00002f86`)
- `FUN_00003200` at `0x00003200` (called from `0x00002f9c`)
- `FUN_00003874` at `0x00003874` (called from `0x00002fbc`)
- `FUN_00003284` at `0x00003284` (called from `0x00002fd6`)
- `FUN_00005d60` at `0x00005d60` (called from `0x00002fe2`)
- `FUN_0000399c` at `0x0000399c` (called from `0x00003010`)
- `FUN_00003874` at `0x00003874` (called from `0x0000301c`)

### Library/System Calls

- `0x05003008` (called from `0x00002df2`)
- `0x0500219e` (called from `0x00002e0a`)
- `0x05002a14` (called from `0x00002e38`)
- `0x050028c4` (called from `0x00002e4e`)
- `0x050024b0` (called from `0x00002e58`)
- `0x050028c4` (called from `0x00002e7a`)
- `0x050024b0` (called from `0x00002e84`)
- `0x05002ce4` (called from `0x00002eb2`)
- `0x050024b0` (called from `0x00002ebc`)
- `0x05002ce4` (called from `0x00002ed2`)
- `0x050024b0` (called from `0x00002edc`)
- `0x050028c4` (called from `0x00002f10`)
- `0x050024b0` (called from `0x00002f1a`)
- `0x050028c4` (called from `0x00002f56`)
- `0x050024b0` (called from `0x00002f60`)
- `0x050028c4` (called from `0x00002fb0`)
- `0x050024b0` (called from `0x00002fc6`)
- `0x05002fa2` (called from `0x00002ff2`)
- `0x050024b0` (called from `0x00003024`)
- `0x05002696` (called from `0x00003032`)
- ... and 2 more library calls


---

## Library/System Functions

### Library Functions Called

- `strcmp` at `0x05003008` (used 3x across codebase)
- `atoi` at `0x0500219e` (used 1x across codebase)
- `device_port_lookup` at `0x05002a14` (used 1x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `fprintf / puts` at `0x05002ce4` (used 7x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `fprintf / puts` at `0x05002ce4` (used 7x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `UNKNOWN` at `0x05002fa2` (used 2x across codebase)
- `exit` at `0x050024b0` (used 9x across codebase)
- `UNKNOWN` at `0x05002696` (used 2x across codebase)
- `UNKNOWN` at `0x05002fa2` (used 2x across codebase)
- `UNKNOWN` at `0x0500282e` (used 2x across codebase)

---

## Function Classification

**Type**: Entry Point
**Complexity**: Calls 35 functions
**Hardware Interaction**: Yes

---

## Notes

- This documentation was automatically generated from disassembly analysis
- Function purpose and detailed behavior require manual reverse engineering
- See `FUNCTION_ANALYSIS_EXAMPLE.md` for an example of deep manual analysis

---

## Related Functions

### Calls

### Internal Function Calls

- `FUN_0000305c` at `0x0000305c` (called from `0x00002e16`)
- `FUN_000042e8` at `0x000042e8` (called from `0x00002e66`)
- `FUN_00005af6` at `0x00005af6` (called from `0x00002efa`)
- `FUN_00003820` at `0x00003820` (called from `0x00002f2a`)
- `FUN_00005178` at `0x00005178` (called from `0x00002f40`)
- `FUN_00005d26` at `0x00005d26` (called from `0x00002f6c`)
- `FUN_00004a52` at `0x00004a52` (called from `0x00002f86`)
- `FUN_00003200` at `0x00003200` (called from `0x00002f9c`)
- `FUN_00003874` at `0x00003874` (called from `0x00002fbc`)
- `FUN_00003284` at `0x00003284` (called from `0x00002fd6`)
- ... and 3 more internal calls

### Library/System Calls

- `0x05003008` (called from `0x00002df2`)
- `0x0500219e` (called from `0x00002e0a`)
- `0x05002a14` (called from `0x00002e38`)
- `0x050028c4` (called from `0x00002e4e`)
- `0x050024b0` (called from `0x00002e58`)
- `0x050028c4` (called from `0x00002e7a`)
- `0x050024b0` (called from `0x00002e84`)
- `0x05002ce4` (called from `0x00002eb2`)
- `0x050024b0` (called from `0x00002ebc`)
- `0x05002ce4` (called from `0x00002ed2`)
- ... and 12 more library calls


### Called By

**None** - This function is not called by any other internal function (may be an entry point or unused)


---

*Generated by generate_all_function_docs.py*
