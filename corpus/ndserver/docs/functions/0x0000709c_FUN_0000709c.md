# Function Analysis: FUN_0000709c

**Analysis Date**: November 08, 2025
**Tool**: Ghidra 11.2.1 (m68k disassembly)
**Binary**: NDserver (Mach-O m68k executable)

---

## Function Overview

**Address**: `0x0000709c`
**Size**: 976 bytes
**Call Depth**: 0
**Calls Made**: 9 total (0 internal, 3 library, 6 external)
**Called By**: 3 functions

---

## Called By

- `FUN_00006f94` at `0x00006ff2`
- `FUN_00007032` at `0x0000705c`
- `FUN_00007072` at `0x00007086`

---

## Complete Disassembly

```asm
; Address: 0x0000709c
; Size: 976 bytes
; ============================================================================
  0x0000709c:  link.w     A6,-0x38
  0x000070a0:  move.l     A3,-(SP)
  0x000070a2:  move.l     A2,-(SP)
  0x000070a4:  clr.l      (-0x10,A6)
  0x000070a8:  movea.l    (0x8,A6),A0
  0x000070ac:  move.l     (0x2c,A0),(-0x2c,A6)
  0x000070b2:  movea.l    (0x00008018).l,A0
  0x000070b8:  move.l     A0,(-0x4,A6)
  0x000070bc:  cmpi.l     #-0x1120532,(A0)
  0x000070c2:  bne.w      0x00007438
  0x000070c6:  movea.l    (-0x4,A6),A0
  0x000070ca:  moveq      0xf,D1
  0x000070cc:  cmp.l      (0x4,A0),D1
  0x000070d0:  bne.w      0x00007438
  0x000070d4:  moveq      0x1,D1
  0x000070d6:  cmp.l      (0x8,A0),D1
  0x000070da:  bcs.w      0x00007438
  0x000070de:  movea.l    (-0x4,A6),A0
  0x000070e2:  btst.b     #0x0,(0x1b,A0)
  0x000070e8:  beq.w      0x00007438
  0x000070ec:  movea.l    (-0x4,A6),A0
  0x000070f0:  moveq      0x2,D1
  0x000070f2:  cmp.l      (0xc,A0),D1
  0x000070f6:  beq.b      0x00007102
  0x000070f8:  moveq      0x5,D1
  0x000070fa:  cmp.l      (0xc,A0),D1
  0x000070fe:  bne.w      0x00007438
  0x00007102:  pea        (0x75cc).l
  0x00007108:  pea        (0xa).w
  0x0000710c:  lea        (0x5002f7e).l,A2
  0x00007112:  jsr        A2
  0x00007114:  move.l     D0,(-0x34,A6)
  0x00007118:  pea        (0x75cc).l
  0x0000711e:  pea        (0xb).w
  0x00007122:  jsr        A2
  0x00007124:  move.l     D0,(-0x38,A6)
  0x00007128:  pea        (0x80f0).l
  0x0000712e:  bsr.l      0x05002ec4
  0x00007134:  adda.w     #0x14,SP
  0x00007138:  tst.l      D0
  0x0000713a:  beq.b      0x00007156
  0x0000713c:  move.l     (-0x34,A6),-(SP)
  0x00007140:  pea        (0xa).w
  0x00007144:  jsr        A2
  0x00007146:  move.l     (-0x38,A6),-(SP)
  0x0000714a:  pea        (0xb).w
  0x0000714e:  jsr        A2
  0x00007150:  moveq      0xe,D1
  0x00007152:  bra.w      0x0000743a
  0x00007156:  movea.l    (-0x4,A6),A0
  0x0000715a:  move.l     (0x10,A0),(-0x20,A6)
  0x00007160:  move.l     (0x00008018).l,(-0x14,A6)
  0x00007168:  moveq      0x1c,D1
  0x0000716a:  bra.w      0x00007414
  0x0000716e:  movea.l    (-0x14,A6),A0
  0x00007172:  move.l     A0,(-0x8,A6)
  0x00007176:  moveq      0x1,D1
  0x00007178:  cmp.l      (A0),D1
  0x0000717a:  beq.b      0x0000718e
  0x0000717c:  move.l     (A0),D0
  0x0000717e:  subq.l     0x4,D0
  0x00007180:  cmp.l      D0,D1
  0x00007182:  bcs.w      0x0000740c
  0x00007186:  move.l     A0,(-0x10,A6)
  0x0000718a:  bra.w      0x0000740c
  0x0000718e:  movea.l    (-0x14,A6),A0
  0x00007192:  move.l     A0,(-0xc,A6)
  0x00007196:  movea.l    (0x00008018).l,A3
  0x0000719c:  adda.l     (0x20,A0),A3
  0x000071a0:  move.l     A3,(-0x18,A6)
  0x000071a4:  move.l     (0x18,A0),D0
  0x000071a8:  andi.l     #0xfffffff,D0
  0x000071ae:  addi.l     #-0x8000000,D0
  0x000071b4:  add.l      (-0x2c,A6),D0
  0x000071b8:  move.l     D0,(-0x1c,A6)
  0x000071bc:  pea        (0x7a49).l
  0x000071c2:  move.l     (-0xc,A6),D1
  0x000071c6:  addq.l     0x8,D1
  0x000071c8:  move.l     D1,-(SP)
  0x000071ca:  bsr.l      0x05003008
  0x000071d0:  addq.w     0x8,SP
  0x000071d2:  tst.l      D0
  0x000071d4:  bne.w      0x00007328
  0x000071d8:  movea.l    (-0x4,A6),A1
  0x000071dc:  moveq      0x2,D1
  0x000071de:  cmp.l      (0xc,A1),D1
  0x000071e2:  bne.b      0x000071fa
  0x000071e4:  movea.l    (-0xc,A6),A0
  0x000071e8:  tst.l      (0x20,A0)
  0x000071ec:  bne.b      0x000071fa
  0x000071ee:  moveq      0x1c,D1
  0x000071f0:  add.l      (0x14,A1),D1
  0x000071f4:  move.l     D1,(-0x28,A6)
  0x000071f8:  bra.b      0x000071fe
  0x000071fa:  clr.l      (-0x28,A6)
  0x000071fe:  clr.l      (-0x24,A6)
  0x00007202:  movea.l    (-0x24,A6),A3
  0x00007206:  cmpa.l     (-0x28,A6),A3
  0x0000720a:  bge.b      0x0000722c
  0x0000720c:  movea.l    (-0x18,A6),A1
  0x00007210:  movea.l    (-0x1c,A6),A0
  0x00007214:  move.l     (A1),(A0)
  0x00007216:  addq.l     0x4,(-0x1c,A6)
  0x0000721a:  addq.l     0x4,(-0x18,A6)
  0x0000721e:  addq.l     0x4,(-0x24,A6)
  0x00007222:  move.l     (-0x24,A6),D1
  0x00007226:  cmp.l      (-0x28,A6),D1
  0x0000722a:  blt.b      0x0000720c
  0x0000722c:  movea.l    (-0xc,A6),A0
  0x00007230:  btst.b     #0x0,(0x37,A0)
  0x00007236:  beq.b      0x000072a8
  0x00007238:  move.l     (-0x28,A6),(-0x24,A6)
  0x0000723e:  bra.b      0x00007258
  0x00007240:  move.l     (-0x1c,A6),D0
  0x00007244:  eori.w     #0x4,D0w
  0x00007248:  movea.l    D0,A3
  0x0000724a:  clr.l      (A3)
  0x0000724c:  addq.l     0x4,(-0x1c,A6)
  0x00007250:  addq.l     0x4,(-0x24,A6)
  0x00007254:  movea.l    (-0xc,A6),A0
  0x00007258:  move.l     (0x1c,A0),D0
  0x0000725c:  sub.l      (0x24,A0),D0
  0x00007260:  cmp.l      (-0x24,A6),D0
  0x00007264:  bhi.b      0x00007240
  0x00007266:  clr.l      (-0x24,A6)
  0x0000726a:  movea.l    (-0xc,A6),A0
  0x0000726e:  move.l     (-0x24,A6),D1
  0x00007272:  cmp.l      (0x24,A0),D1
  0x00007276:  bcc.w      0x0000740c
  0x0000727a:  move.l     (-0x1c,A6),D0
  0x0000727e:  eori.w     #0x4,D0w
  0x00007282:  movea.l    (-0x18,A6),A0
  0x00007286:  movea.l    D0,A3
  0x00007288:  move.l     (A0),(A3)
  0x0000728a:  addq.l     0x4,(-0x1c,A6)
  0x0000728e:  addq.l     0x4,(-0x18,A6)
  0x00007292:  addq.l     0x4,(-0x24,A6)
  0x00007296:  movea.l    (-0xc,A6),A0
  0x0000729a:  move.l     (-0x24,A6),D1
  0x0000729e:  cmp.l      (0x24,A0),D1
  0x000072a2:  bcs.b      0x0000727a
  0x000072a4:  bra.w      0x0000740c
  0x000072a8:  move.l     (-0x28,A6),(-0x24,A6)
  0x000072ae:  movea.l    (-0xc,A6),A0
  0x000072b2:  movea.l    (-0x24,A6),A3
  0x000072b6:  cmpa.l     (0x24,A0),A3
  0x000072ba:  bcc.b      0x000072e6
  0x000072bc:  move.l     (-0x1c,A6),D0
  0x000072c0:  eori.w     #0x4,D0w
  0x000072c4:  movea.l    (-0x18,A6),A0
  0x000072c8:  movea.l    D0,A3
  0x000072ca:  move.l     (A0),(A3)
  0x000072cc:  addq.l     0x4,(-0x1c,A6)
  0x000072d0:  addq.l     0x4,(-0x18,A6)
  0x000072d4:  addq.l     0x4,(-0x24,A6)
  0x000072d8:  movea.l    (-0xc,A6),A0
  0x000072dc:  move.l     (-0x24,A6),D1
  0x000072e0:  cmp.l      (0x24,A0),D1
  0x000072e4:  bcs.b      0x000072bc
  0x000072e6:  clr.l      (-0x24,A6)
  0x000072ea:  movea.l    (-0xc,A6),A0
  0x000072ee:  move.l     (0x1c,A0),D0
  0x000072f2:  sub.l      (0x24,A0),D0
  0x000072f6:  cmp.l      (-0x24,A6),D0
  0x000072fa:  bls.w      0x0000740c
  0x000072fe:  move.l     (-0x1c,A6),D0
  0x00007302:  eori.w     #0x4,D0w
  0x00007306:  movea.l    D0,A3
  0x00007308:  clr.l      (A3)
  0x0000730a:  addq.l     0x4,(-0x1c,A6)
  0x0000730e:  addq.l     0x4,(-0x24,A6)
  0x00007312:  movea.l    (-0xc,A6),A0
  0x00007316:  move.l     (0x1c,A0),D0
  0x0000731a:  sub.l      (0x24,A0),D0
  0x0000731e:  cmp.l      (-0x24,A6),D0
  0x00007322:  bhi.b      0x000072fe
  0x00007324:  bra.w      0x0000740c
  0x00007328:  pea        (0x7a50).l
  0x0000732e:  move.l     (-0xc,A6),D1
  0x00007332:  addq.l     0x8,D1
  0x00007334:  move.l     D1,-(SP)
  0x00007336:  bsr.l      0x05003008
  0x0000733c:  addq.w     0x8,SP
  0x0000733e:  tst.l      D0
  0x00007340:  beq.w      0x0000740c
  0x00007344:  movea.l    (-0xc,A6),A0
  0x00007348:  btst.b     #0x0,(0x37,A0)
  0x0000734e:  beq.b      0x000073b0
  0x00007350:  clr.l      (-0x24,A6)
  0x00007354:  bra.b      0x00007368
  0x00007356:  movea.l    (-0x1c,A6),A0
  0x0000735a:  clr.l      (A0)
  0x0000735c:  addq.l     0x4,(-0x1c,A6)
  0x00007360:  addq.l     0x4,(-0x24,A6)
  0x00007364:  movea.l    (-0xc,A6),A0
  0x00007368:  move.l     (0x1c,A0),D0
  0x0000736c:  sub.l      (0x24,A0),D0
  0x00007370:  cmp.l      (-0x24,A6),D0
  0x00007374:  bhi.b      0x00007356
  0x00007376:  clr.l      (-0x24,A6)
  0x0000737a:  movea.l    (-0xc,A6),A0
  0x0000737e:  movea.l    (-0x24,A6),A3
  0x00007382:  cmpa.l     (0x24,A0),A3
  0x00007386:  bcc.w      0x0000740c
  0x0000738a:  movea.l    (-0x18,A6),A0
  0x0000738e:  movea.l    (-0x1c,A6),A1
  0x00007392:  move.l     (A0),(A1)
  0x00007394:  addq.l     0x4,(-0x1c,A6)
  0x00007398:  addq.l     0x4,(-0x18,A6)
  0x0000739c:  addq.l     0x4,(-0x24,A6)
  0x000073a0:  movea.l    (-0xc,A6),A0
  0x000073a4:  move.l     (-0x24,A6),D1
  0x000073a8:  cmp.l      (0x24,A0),D1
  0x000073ac:  bcs.b      0x0000738a
  0x000073ae:  bra.b      0x0000740c
  0x000073b0:  clr.l      (-0x24,A6)
  0x000073b4:  movea.l    (-0xc,A6),A0
  0x000073b8:  movea.l    (-0x24,A6),A3
  0x000073bc:  cmpa.l     (0x24,A0),A3
  0x000073c0:  bcc.b      0x000073e6
  0x000073c2:  movea.l    (-0x18,A6),A0
  0x000073c6:  movea.l    (-0x1c,A6),A1
  0x000073ca:  move.l     (A0),(A1)
  0x000073cc:  addq.l     0x4,(-0x1c,A6)
  0x000073d0:  addq.l     0x4,(-0x18,A6)
  0x000073d4:  addq.l     0x4,(-0x24,A6)
  0x000073d8:  movea.l    (-0xc,A6),A0
  0x000073dc:  move.l     (-0x24,A6),D1
  0x000073e0:  cmp.l      (0x24,A0),D1
  0x000073e4:  bcs.b      0x000073c2
  0x000073e6:  clr.l      (-0x24,A6)
  0x000073ea:  bra.b      0x000073fa
  0x000073ec:  movea.l    (-0x1c,A6),A0
  0x000073f0:  clr.l      (A0)
  0x000073f2:  addq.l     0x4,(-0x1c,A6)
  0x000073f6:  addq.l     0x4,(-0x24,A6)
  0x000073fa:  movea.l    (-0xc,A6),A0
  0x000073fe:  move.l     (0x1c,A0),D0
  0x00007402:  sub.l      (0x24,A0),D0
  0x00007406:  cmp.l      (-0x24,A6),D0
  0x0000740a:  bhi.b      0x000073ec
  0x0000740c:  movea.l    (-0x8,A6),A0
  0x00007410:  move.l     (0x4,A0),D1
  0x00007414:  add.l      D1,(-0x14,A6)
  0x00007418:  subq.l     0x1,(-0x20,A6)
  0x0000741c:  moveq      -0x1,D1
  0x0000741e:  cmp.l      (-0x20,A6),D1
  0x00007422:  bne.w      0x0000716e
  0x00007426:  tst.l      (-0x10,A6)
  0x0000742a:  beq.b      0x00007438
  0x0000742c:  movea.l    (-0x10,A6),A0
  0x00007430:  moveq      0x4,D1
  0x00007432:  cmp.l      (0x8,A0),D1
  0x00007436:  beq.b      0x00007444
  0x00007438:  moveq      0x8,D1
  0x0000743a:  move.l     D1,(0x040105b0).l
  0x00007440:  moveq      -0x1,D0
  0x00007442:  bra.b      0x00007460
  0x00007444:  move.l     (-0x34,A6),-(SP)
  0x00007448:  pea        (0xa).w
  0x0000744c:  lea        (0x5002f7e).l,A2
  0x00007452:  jsr        A2
  0x00007454:  move.l     (-0x38,A6),-(SP)
  0x00007458:  pea        (0xb).w
  0x0000745c:  jsr        A2
  0x0000745e:  clr.l      D0
  0x00007460:  movea.l    (-0x40,A6),A2
  0x00007464:  movea.l    (-0x3c,A6),A3
  0x00007468:  unlk       A6
  0x0000746a:  rts
; ============================================================================
```

---

## Hardware Access Analysis

### Hardware Registers Accessed

**SYSTEM_DATA**:
- `0x040105b0` (SYSTEM_PORT+0x31c) - WRITE via `move.l`


---

## Calls Made

### Library/System Calls

- `0x05002ec4` (called from `0x0000712e`)
- `0x05003008` (called from `0x000071ca`)
- `0x05003008` (called from `0x00007336`)

### External Calls

- `0x000000a2` (called from `0x00007112`)
- `0x000000a2` (called from `0x00007122`)
- `0x000000a2` (called from `0x00007144`)
- `0x000000a2` (called from `0x0000714e`)
- `0x000000a2` (called from `0x00007452`)
- `0x000000a2` (called from `0x0000745c`)

---

## Library/System Functions

### Library Functions Called

- `UNKNOWN` at `0x05002ec4` (used 2x across codebase)
- `strcmp` at `0x05003008` (used 3x across codebase)
- `strcmp` at `0x05003008` (used 3x across codebase)

---

## Function Classification

**Type**: Internal Function
**Complexity**: Calls 9 functions
**Hardware Interaction**: Yes

---

## Notes

- This documentation was automatically generated from disassembly analysis
- Function purpose and detailed behavior require manual reverse engineering
- See `FUNCTION_ANALYSIS_EXAMPLE.md` for an example of deep manual analysis

---

## Related Functions

### Calls

### Library/System Calls

- `0x05002ec4` (called from `0x0000712e`)
- `0x05003008` (called from `0x000071ca`)
- `0x05003008` (called from `0x00007336`)

### External Calls

- `0x000000a2` (called from `0x00007112`)
- `0x000000a2` (called from `0x00007122`)
- `0x000000a2` (called from `0x00007144`)
- `0x000000a2` (called from `0x0000714e`)
- `0x000000a2` (called from `0x00007452`)
- `0x000000a2` (called from `0x0000745c`)

### Called By

- `FUN_00006f94` at `0x00006ff2`
- `FUN_00007032` at `0x0000705c`
- `FUN_00007072` at `0x00007086`

---

*Generated by generate_all_function_docs.py*
