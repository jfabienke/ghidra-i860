# Function Analysis: FUN_00004f64

**Analysis Date**: November 08, 2025
**Tool**: Ghidra 11.2.1 (m68k disassembly)
**Binary**: NDserver (Mach-O m68k executable)

---

## Function Overview

**Address**: `0x00004f64`
**Size**: 276 bytes
**Call Depth**: 0
**Calls Made**: 4 total (0 internal, 4 library, 0 external)
**Called By**: 0 functions

---

## Called By

**None** - This function is not called by any other internal function (may be an entry point or unused)


---

## Complete Disassembly

```asm
; Address: 0x00004f64
; Size: 276 bytes
; ============================================================================
  0x00004f64:  link.w     A6,-0x42c
  0x00004f68:  movem.l    {  A3 A2 D3 D2},SP
  0x00004f6c:  move.l     (0x18,A6),D3
  0x00004f70:  lea        (-0x42c,A6),A3
  0x00004f74:  movea.l    A3,A2
  0x00004f76:  moveq      0x2c,D2
  0x00004f78:  move.l     (0x00007bc0).l,(-0x414,A6)
  0x00004f80:  move.l     (0xc,A6),(-0x410,A6)
  0x00004f86:  move.l     (0x00007bc4).l,(-0x40c,A6)
  0x00004f8e:  move.l     (0x10,A6),(-0x408,A6)
  0x00004f94:  move.l     (0x00007bc8).l,(-0x404,A6)
  0x00004f9c:  cmpi.l     #0x400,D3
  0x00004fa2:  bls.b      0x00004fae
  0x00004fa4:  move.l     #-0x133,D0
  0x00004faa:  bra.w      0x0000506e
  0x00004fae:  move.l     D3,-(SP)
  0x00004fb0:  move.l     (0x14,A6),-(SP)
  0x00004fb4:  pea        (0x2c,A2)
  0x00004fb8:  bsr.l      0x0500294e
  0x00004fbe:  bfins      D3,(0x2a,A2),0x0,0xc
  0x00004fc4:  move.l     D3,D0
  0x00004fc6:  addq.l     0x3,D0
  0x00004fc8:  moveq      -0x4,D1
  0x00004fca:  and.l      D1,D0
  0x00004fcc:  move.b     #0x1,(0x3,A2)
  0x00004fd2:  add.l      D0,D2
  0x00004fd4:  move.l     D2,(0x4,A2)
  0x00004fd8:  move.l     #0x100,(0x8,A2)
  0x00004fe0:  move.l     (0x8,A6),(0x10,A2)
  0x00004fe6:  bsr.l      0x05002960
  0x00004fec:  move.l     D0,(0xc,A2)
  0x00004ff0:  moveq      0x77,D1
  0x00004ff2:  move.l     D1,(0x14,A2)
  0x00004ff6:  clr.l      -(SP)
  0x00004ff8:  clr.l      -(SP)
  0x00004ffa:  pea        (0x20).w
  0x00004ffe:  clr.l      -(SP)
  0x00005000:  move.l     A2,-(SP)
  0x00005002:  bsr.l      0x050029c0
  0x00005008:  movea.l    D0,A2
  0x0000500a:  adda.w     #0x20,SP
  0x0000500e:  tst.l      A2
  0x00005010:  beq.b      0x00005024
  0x00005012:  cmpa.l     #-0xca,A2
  0x00005018:  bne.b      0x00005020
  0x0000501a:  bsr.l      0x0500295a
  0x00005020:  move.l     A2,D0
  0x00005022:  bra.b      0x0000506e
  0x00005024:  move.l     (0x4,A3),D2
  0x00005028:  bfextu     (0x3,A3),0x0,0x8,D0
  0x0000502e:  cmpi.l     #0xdb,(0x14,A3)
  0x00005036:  beq.b      0x00005040
  0x00005038:  move.l     #-0x12d,D0
  0x0000503e:  bra.b      0x0000506e
  0x00005040:  moveq      0x20,D1
  0x00005042:  cmp.l      D2,D1
  0x00005044:  bne.b      0x00005058
  0x00005046:  moveq      0x1,D1
  0x00005048:  cmp.l      D0,D1
  0x0000504a:  bne.b      0x00005058
  0x0000504c:  move.l     (0x18,A3),D1
  0x00005050:  cmp.l      (0x00007bcc).l,D1
  0x00005056:  beq.b      0x00005060
  0x00005058:  move.l     #-0x12c,D0
  0x0000505e:  bra.b      0x0000506e
  0x00005060:  tst.l      (0x1c,A3)
  0x00005064:  bne.b      0x0000506a
  0x00005066:  clr.l      D0
  0x00005068:  bra.b      0x0000506e
  0x0000506a:  move.l     (0x1c,A3),D0
  0x0000506e:  movem.l    -0x43c,A6,{  D2 D3 A2 A3}
  0x00005074:  unlk       A6
  0x00005076:  rts
; ============================================================================
```

---

## Hardware Access Analysis

### Hardware Registers Accessed

**None** - This function does not directly access any hardware registers.

**Rationale**:
- No memory-mapped I/O addresses in range `0x02000000-0x02FFFFFF` (NeXT hardware registers)
- No NeXTdimension MMIO in range `0xF8000000-0xFFFFFFFF` (ND RAM/VRAM/registers)
- Pure software function operating on RAM-based data structures


---

## Calls Made

### Library/System Calls

- `0x0500294e` (called from `0x00004fb8`)
- `0x05002960` (called from `0x00004fe6`)
- `0x050029c0` (called from `0x00005002`)
- `0x0500295a` (called from `0x0000501a`)


---

## Library/System Functions

### Library Functions Called

- `UNKNOWN` at `0x0500294e` (used 3x across codebase)
- `UNKNOWN` at `0x05002960` (used 28x across codebase)
- `UNKNOWN` at `0x050029c0` (used 29x across codebase)
- `UNKNOWN` at `0x0500295a` (used 28x across codebase)

---

## Function Classification

**Type**: Entry Point
**Complexity**: Calls 4 functions
**Hardware Interaction**: No

---

## Notes

- This documentation was automatically generated from disassembly analysis
- Function purpose and detailed behavior require manual reverse engineering
- See `FUNCTION_ANALYSIS_EXAMPLE.md` for an example of deep manual analysis

---

## Related Functions

### Calls

### Library/System Calls

- `0x0500294e` (called from `0x00004fb8`)
- `0x05002960` (called from `0x00004fe6`)
- `0x050029c0` (called from `0x00005002`)
- `0x0500295a` (called from `0x0000501a`)


### Called By

**None** - This function is not called by any other internal function (may be an entry point or unused)


---

*Generated by generate_all_function_docs.py*
