# Function Analysis: FUN_000036b2

**Analysis Date**: November 08, 2025
**Tool**: Ghidra 11.2.1 (m68k disassembly)
**Binary**: NDserver (Mach-O m68k executable)

---

## Function Overview

**Address**: `0x000036b2`
**Size**: 366 bytes
**Call Depth**: 1
**Calls Made**: 11 total (7 internal, 2 library, 2 external)
**Called By**: 3 functions

---

## Called By

- `FUN_00005a3e` at `0x00005a5a`
- `FUN_00005af6` at `0x00005b12`
- `FUN_00005bb8` at `0x00005bd4`

---

## Complete Disassembly

```asm
; Address: 0x000036b2
; Size: 366 bytes
; ============================================================================
  0x000036b2:  link.w     A6,0x0
  0x000036b6:  movem.l    {  A5 A4 A3 A2 D5 D4 D3 D2},SP
  0x000036ba:  move.l     (0x8,A6),D5
  0x000036be:  move.l     (0xc,A6),D3
  0x000036c2:  move.l     (0x04010290).l,D4
  0x000036c8:  moveq      0x8,D1
  0x000036ca:  cmp.l      D3,D1
  0x000036cc:  bcs.b      0x000036d4
  0x000036ce:  btst.l     #0x0,D3
  0x000036d2:  beq.b      0x000036da
  0x000036d4:  moveq      0x4,D0
  0x000036d6:  bra.w      0x00003816
  0x000036da:  move.l     D3,D0
  0x000036dc:  asr.l      #0x1,D0
  0x000036de:  lea        (0x819c).l,A0
  0x000036e4:  tst.l      (0x0,A0,D0*0x4)
  0x000036e8:  beq.b      0x000036fa
  0x000036ea:  movea.l    (0x0,A0,D0*0x4),A0
  0x000036ee:  cmp.l      (A0),D5
  0x000036f0:  sne        D0b
  0x000036f2:  moveq      0x4,D1
  0x000036f4:  and.l      D1,D0
  0x000036f6:  bra.w      0x00003816
  0x000036fa:  pea        (0x50).w
  0x000036fe:  pea        (0x1).w
  0x00003702:  bsr.l      0x0500220a
  0x00003708:  movea.l    D0,A2
  0x0000370a:  addq.w     0x8,SP
  0x0000370c:  tst.l      A2
  0x0000370e:  bne.b      0x00003716
  0x00003710:  moveq      0x6,D0
  0x00003712:  bra.w      0x00003816
  0x00003716:  move.l     D3,D0
  0x00003718:  asr.l      #0x1,D0
  0x0000371a:  lea        (0x819c).l,A0
  0x00003720:  move.l     A2,(0x0,A0,D0*0x4)
  0x00003724:  move.l     D3,(0x48,A2)
  0x00003728:  clr.l      (0x4c,A2)
  0x0000372c:  move.l     D5,(A2)
  0x0000372e:  lea        (0x8,A2),A4
  0x00003732:  move.l     A4,-(SP)
  0x00003734:  move.l     D4,-(SP)
  0x00003736:  lea        (0x5002c54).l,A5
  0x0000373c:  jsr        A5
  0x0000373e:  move.l     D0,D2
  0x00003740:  addq.w     0x8,SP
  0x00003742:  bne.w      0x000037fc
  0x00003746:  lea        (0x4,A2),A3
  0x0000374a:  move.l     A3,-(SP)
  0x0000374c:  move.l     D4,-(SP)
  0x0000374e:  jsr        A5
  0x00003750:  move.l     D0,D2
  0x00003752:  addq.w     0x8,SP
  0x00003754:  bne.w      0x000037fc
  0x00003758:  move.l     A4,-(SP)
  0x0000375a:  move.l     (A3),-(SP)
  0x0000375c:  move.l     D3,-(SP)
  0x0000375e:  move.l     D5,-(SP)
  0x00003760:  bsr.l      0x00003cdc                     ; -> FUN_00003cdc
  0x00003766:  move.l     D0,D2
  0x00003768:  addq.w     0x8,SP
  0x0000376a:  addq.w     0x8,SP
  0x0000376c:  bne.w      0x000037fc
  0x00003770:  pea        (0x34,A2)
  0x00003774:  pea        (0x1c,A2)
  0x00003778:  move.l     D3,-(SP)
  0x0000377a:  move.l     D4,-(SP)
  0x0000377c:  move.l     (A3),-(SP)
  0x0000377e:  move.l     D5,-(SP)
  0x00003780:  bsr.l      0x000045f2                     ; -> FUN_000045f2
  0x00003786:  move.l     D0,D2
  0x00003788:  adda.w     #0x18,SP
  0x0000378c:  bne.b      0x000037fc
  0x0000378e:  lea        (0x3c,A2),A5
  0x00003792:  move.l     A5,-(SP)
  0x00003794:  lea        (0x28,A2),A4
  0x00003798:  move.l     A4,-(SP)
  0x0000379a:  move.l     D3,-(SP)
  0x0000379c:  move.l     D4,-(SP)
  0x0000379e:  move.l     (A3),-(SP)
  0x000037a0:  move.l     D5,-(SP)
  0x000037a2:  bsr.l      0x00004822                     ; -> FUN_00004822
  0x000037a8:  move.l     D0,D2
  0x000037aa:  adda.w     #0x18,SP
  0x000037ae:  bne.b      0x000037fc
  0x000037b0:  move.l     A5,-(SP)
  0x000037b2:  move.l     A4,-(SP)
  0x000037b4:  move.l     D3,-(SP)
  0x000037b6:  move.l     D4,-(SP)
  0x000037b8:  move.l     (A3),-(SP)
  0x000037ba:  move.l     D5,-(SP)
  0x000037bc:  bsr.l      0x0000493a                     ; -> FUN_0000493a
  0x000037c2:  move.l     D0,D2
  0x000037c4:  adda.w     #0x18,SP
  0x000037c8:  bne.b      0x000037fc
  0x000037ca:  lea        (0xc,A2),A3
  0x000037ce:  move.l     A3,-(SP)
  0x000037d0:  move.l     D3,-(SP)
  0x000037d2:  move.l     D5,-(SP)
  0x000037d4:  bsr.l      0x000041fe                     ; -> FUN_000041fe
  0x000037da:  move.l     D0,D2
  0x000037dc:  addq.w     0x8,SP
  0x000037de:  addq.w     0x4,SP
  0x000037e0:  bne.b      0x000037fc
  0x000037e2:  pea        (0x18,A2)
  0x000037e6:  move.l     (A3),-(SP)
  0x000037e8:  move.l     D5,-(SP)
  0x000037ea:  bsr.l      0x00003f3a                     ; -> FUN_00003f3a
  0x000037f0:  move.l     D0,D2
  0x000037f2:  addq.w     0x8,SP
  0x000037f4:  addq.w     0x4,SP
  0x000037f6:  bne.b      0x000037fc
  0x000037f8:  clr.l      D0
  0x000037fa:  bra.b      0x00003816
  0x000037fc:  move.l     D2,-(SP)
  0x000037fe:  pea        (0x789f).l
  0x00003804:  bsr.l      0x050028c4
  0x0000380a:  move.l     D3,-(SP)
  0x0000380c:  move.l     D5,-(SP)
  0x0000380e:  bsr.l      0x00003874                     ; -> FUN_00003874
  0x00003814:  move.l     D2,D0
  0x00003816:  movem.l    -0x20,A6,{  D2 D3 D4 D5 A2 A3 A4 A5}
  0x0000381c:  unlk       A6
  0x0000381e:  rts
; ============================================================================
```

---

## Hardware Access Analysis

### Hardware Registers Accessed

**SYSTEM_DATA**:
- `0x04010290` (SYSTEM_PORT+0x4) - READ via `move.l`


---

## Calls Made

### Internal Function Calls

- `FUN_00003cdc` at `0x00003cdc` (called from `0x00003760`)
- `FUN_000045f2` at `0x000045f2` (called from `0x00003780`)
- `FUN_00004822` at `0x00004822` (called from `0x000037a2`)
- `FUN_0000493a` at `0x0000493a` (called from `0x000037bc`)
- `FUN_000041fe` at `0x000041fe` (called from `0x000037d4`)
- `FUN_00003f3a` at `0x00003f3a` (called from `0x000037ea`)
- `FUN_00003874` at `0x00003874` (called from `0x0000380e`)

### Library/System Calls

- `0x0500220a` (called from `0x00003702`)
- `0x050028c4` (called from `0x00003804`)

### External Calls

- `0x000000a5` (called from `0x0000373c`)
- `0x000000a5` (called from `0x0000374e`)

---

## Library/System Functions

### Library Functions Called

- `UNKNOWN` at `0x0500220a` (used 1x across codebase)
- `printf` at `0x050028c4` (used 18x across codebase)

---

## Function Classification

**Type**: Internal Function
**Complexity**: Calls 11 functions
**Hardware Interaction**: Yes

---

## Notes

- This documentation was automatically generated from disassembly analysis
- Function purpose and detailed behavior require manual reverse engineering
- See `FUNCTION_ANALYSIS_EXAMPLE.md` for an example of deep manual analysis

---

## Related Functions

### Calls

### Internal Function Calls

- `FUN_00003cdc` at `0x00003cdc` (called from `0x00003760`)
- `FUN_000045f2` at `0x000045f2` (called from `0x00003780`)
- `FUN_00004822` at `0x00004822` (called from `0x000037a2`)
- `FUN_0000493a` at `0x0000493a` (called from `0x000037bc`)
- `FUN_000041fe` at `0x000041fe` (called from `0x000037d4`)
- `FUN_00003f3a` at `0x00003f3a` (called from `0x000037ea`)
- `FUN_00003874` at `0x00003874` (called from `0x0000380e`)

### Library/System Calls

- `0x0500220a` (called from `0x00003702`)
- `0x050028c4` (called from `0x00003804`)

### External Calls

- `0x000000a5` (called from `0x0000373c`)
- `0x000000a5` (called from `0x0000374e`)

### Called By

- `FUN_00005a3e` at `0x00005a5a`
- `FUN_00005af6` at `0x00005b12`
- `FUN_00005bb8` at `0x00005bd4`

---

*Generated by generate_all_function_docs.py*
