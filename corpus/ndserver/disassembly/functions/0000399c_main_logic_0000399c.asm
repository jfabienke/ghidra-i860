; Function: main_logic_0000399c
; Address: 0x0000399c - 0x00003cdb
; Size: 832 bytes
; Frame: 12 bytes
; Purpose: Main Logic
; Description: Large function (832 bytes) - complex logic
; Confidence: LOW
;
0x0000399c:  linkw %fp,#-12
0x0000399e:  .short 0x48e7
0x000039a0:  movew 0x00002c2e,%sp@-
0x000039a2:  .short 0x0008
0x000039a4:  movel %fp@(12),%d7
0x000039a6:  movel %fp@(16),%d4
0x000039a8:  movel %fp@(20),%d5
0x000039aa:  clrl %d2
0x000039ac:  pea 0x00002000
0x000039ae:  invalid
0x000039b0:  btst %d2,%d0
0x000039b2:  movel %pc@(0x00004eb6),%a4@+
0x000039b4:  moveal %d0,%a3
0x000039b6:  pea 0x00002000
0x000039b8:  jsr %a2@
0x000039ba:  moveal %d0,%a4
0x000039bc:  invalid
0x000039be:  .short 0x04ff
0x000039c0:  .short 0xf784
0x000039c2:  movel %d0,%fp@(-4)
0x000039c4:  .short 0x504f
0x000039c6:  bnes 0x0000007e
0x000039c8:  pea %fp@(-4)
0x000039ca:  invalid
0x000039cc:  .short 0x0401
0x000039ce:  invalid
0x000039d0:  invalid
0x000039d2:  .short 0x04ff
0x000039d4:  .short 0xf26e
0x000039d6:  .short 0x504f
0x000039d8:  tstl %d0
0x000039da:  beqs 0x00000066
0x000039dc:  movel %d0,%sp@-
0x000039de:  invalid
0x000039e0:  .short 0x0000
0x000039e2:  moveq #-89,%d4
0x000039e4:  invalid
0x000039e6:  .short 0x04ff
0x000039e8:  .short 0xeeca
0x000039ea:  braw 0x00000336
0x000039ec:  movel %fp@(-4),%sp@-
0x000039ee:  pea 0x00000002
0x000039f0:  invalid
0x000039f2:  .short 0x0401
0x000039f4:  invalid
0x000039f6:  invalid
0x000039f8:  .short 0x04ff
0x000039fa:  .short 0xf752
0x000039fc:  .short 0x504f
0x000039fe:  .short 0x584f
0x00003a00:  pea %fp@(-8)
0x00003a02:  invalid
0x00003a04:  .short 0x0000
0x00003a06:  moveq #-68,%d4
0x00003a08:  movel %d7,%sp@-
0x00003a0a:  movel %d6,%sp@-
0x00003a0c:  invalid
0x00003a0e:  .short 0x0000
0x00003a10:  moveb %a0@(20559),%d0
0x00003a12:  .short 0x504f
0x00003a14:  tstl %d0
0x00003a16:  bnes 0x000000ea
0x00003a18:  tstl %d4
0x00003a1a:  bnes 0x000000ea
0x00003a1c:  pea 0x00004000
0x00003a1e:  invalid
0x00003a20:  .short 0x04ff
0x00003a22:  .short 0xf532
0x00003a24:  clrl %sp@-
0x00003a26:  clrl %sp@-
0x00003a28:  invalid
0x00003a2a:  .short 0x0000
0x00003a2c:  moveq #-56,%d4
0x00003a2e:  invalid
0x00003a30:  .short 0x04ff
0x00003a32:  .short 0xf174
0x00003a34:  moveal %d0,%a2
0x00003a36:  .short 0x504f
0x00003a38:  .short 0x504f
0x00003a3a:  moveq #-1,%d1
0x00003a3c:  cmpl %a2,%d1
0x00003a3e:  beqs 0x000000e0
0x00003a40:  clrl %sp@-
0x00003a42:  invalid
0x00003a44:  movel %d0,%d0
0x00003a46:  moveq #113,%d2
0x00003a48:  movel %a2,%sp@-
0x00003a4a:  invalid
0x00003a4c:  .short 0x04ff
0x00003a4e:  .short 0xed62
0x00003a50:  movel %a2,%sp@-
0x00003a52:  invalid
0x00003a54:  .short 0x04ff
0x00003a56:  .short 0xe826
0x00003a58:  .short 0x504f
0x00003a5a:  .short 0x504f
0x00003a5c:  invalid
0x00003a5e:  .short 0x04ff
0x00003a60:  .short 0xec18
0x00003a62:  movel %d0,%d2
0x00003a64:  bras 0x000000ee
0x00003a66:  clrl %fp@(-8)
0x00003a68:  pea %fp@(-12)
0x00003a6a:  invalid
0x00003a6c:  .short 0x0401
0x00003a6e:  invalid
0x00003a70:  invalid
0x00003a72:  .short 0x04ff
0x00003a74:  .short 0xf200
0x00003a76:  .short 0x504f
0x00003a78:  tstl %d0
0x00003a7a:  beqs 0x00000116
0x00003a7c:  movel %d0,%sp@-
0x00003a7e:  invalid
0x00003a80:  .short 0x0000
0x00003a82:  moveq #-47,%d4
0x00003a84:  invalid
0x00003a86:  .short 0x04ff
0x00003a88:  .short 0xee1a
0x00003a8a:  braw 0x00000336
0x00003a8c:  tstl %d4
0x00003a8e:  beqs 0x00000146
0x00003a90:  movel %d4,%sp@-
0x00003a92:  movel %fp@(-12),%sp@-
0x00003a94:  invalid
0x00003a96:  .short 0x0401
0x00003a98:  invalid
0x00003a9a:  invalid
0x00003a9c:  .short 0x04ff
0x00003a9e:  .short 0xf1cc
0x00003aa0:  .short 0x504f
0x00003aa2:  .short 0x584f
0x00003aa4:  tstl %d0
0x00003aa6:  beqs 0x00000146
0x00003aa8:  movel %d0,%sp@-
0x00003aaa:  invalid
0x00003aac:  .short 0x0000
0x00003aae:  moveq #-22,%d4
0x00003ab0:  invalid
0x00003ab2:  .short 0x04ff
0x00003ab4:  .short 0xedea
0x00003ab6:  braw 0x00000336
0x00003ab8:  tstl %d5
0x00003aba:  beqs 0x000001b2
0x00003abc:  movel %d5,%sp@-
0x00003abe:  movel %fp@(-12),%sp@-
0x00003ac0:  invalid
0x00003ac2:  .short 0x0401
0x00003ac4:  invalid
0x00003ac6:  invalid
0x00003ac8:  .short 0x04ff
0x00003aca:  .short 0xf19c
0x00003acc:  .short 0x504f
0x00003ace:  .short 0x584f
0x00003ad0:  tstl %d0
0x00003ad2:  beqs 0x00000176
0x00003ad4:  movel %d0,%sp@-
0x00003ad6:  invalid
0x00003ad8:  .short 0x0000
0x00003ada:  mvsb %d6,%d4
0x00003adc:  invalid
0x00003ade:  .short 0x04ff
0x00003ae0:  .short 0xedba
0x00003ae2:  braw 0x00000336
0x00003ae4:  movel %d7,%sp@-
0x00003ae6:  movel %d6,%sp@-
0x00003ae8:  invalid
0x00003aea:  .short 0x0000
0x00003aec:  movel %a4@+,%a4@(9728)
0x00003aee:  .short 0x504f
0x00003af0:  beqs 0x000001b2
0x00003af2:  movel %d3,%sp@-
0x00003af4:  movel %fp@(-12),%sp@-
0x00003af6:  invalid
0x00003af8:  .short 0x0401
0x00003afa:  invalid
0x00003afc:  invalid
0x00003afe:  .short 0x04ff
0x00003b00:  .short 0xf160
0x00003b02:  .short 0x504f
0x00003b04:  .short 0x584f
0x00003b06:  tstl %d0
0x00003b08:  beqs 0x000001b2
0x00003b0a:  movel %d0,%sp@-
0x00003b0c:  invalid
0x00003b0e:  .short 0x0000
0x00003b10:  mvsb %a2@-,%d4
0x00003b12:  invalid
0x00003b14:  .short 0x04ff
0x00003b16:  .short 0xed7e
0x00003b18:  braw 0x00000336
0x00003b1a:  tstl %fp@(-4)
0x00003b1c:  beqs 0x000001e6
0x00003b1e:  movel %fp@(-4),%sp@-
0x00003b20:  movel %fp@(-12),%sp@-
0x00003b22:  invalid
0x00003b24:  .short 0x0401
0x00003b26:  invalid
0x00003b28:  invalid
0x00003b2a:  .short 0x04ff
0x00003b2c:  .short 0xf12c
0x00003b2e:  .short 0x504f
0x00003b30:  .short 0x584f
0x00003b32:  tstl %d0
0x00003b34:  beqs 0x000001e6
0x00003b36:  movel %d0,%sp@-
0x00003b38:  invalid
0x00003b3a:  .short 0x0000
0x00003b3c:  mvsw %d2,%d4
0x00003b3e:  invalid
0x00003b40:  .short 0x04ff
0x00003b42:  .short 0xed4a
0x00003b44:  braw 0x00000336
0x00003b46:  invalid
0x00003b48:  .short 0x0000
0x00003b4a:  movel %d0,%d0
0x00003b4c:  .short 0x0004
0x00003b4e:  invalid
0x00003b50:  .short 0xfff4
0x00003b52:  .short 0x000c
0x00003b54:  clrl %sp@-
0x00003b56:  clrl %sp@-
0x00003b58:  movel %a3,%sp@-
0x00003b5a:  invalid
0x00003b5c:  .short 0x04ff
0x00003b5e:  .short 0xee16
0x00003b60:  .short 0x504f
0x00003b62:  .short 0x584f
0x00003b64:  tstl %d0
0x00003b66:  beqs 0x0000021c
0x00003b68:  movel %d0,%sp@-
0x00003b6a:  invalid
0x00003b6c:  .short 0x04ff
0x00003b6e:  .short 0xed28
0x00003b70:  movel %d0,%sp@-
0x00003b72:  invalid
0x00003b74:  .short 0x0000
0x00003b76:  mvsw %sp@+,%d4
0x00003b78:  braw 0x0000031a
0x00003b7a:  moveq #1,%d1
0x00003b7c:  cmpl %a3@(8),%d1
0x00003b7e:  bnes 0x00000258
0x00003b80:  moveq #65,%d1
0x00003b82:  cmpl %a3@(20),%d1
0x00003b84:  beqs 0x00000234
0x00003b86:  moveq #69,%d1
0x00003b88:  cmpl %a3@(20),%d1
0x00003b8a:  bnes 0x00000242
0x00003b8c:  movel %a3@(28),%d1
0x00003b8e:  cmpl %fp@(-8),%d1
0x00003b90:  beqw 0x00000328
0x00003b92:  bras 0x000001e6
0x00003b94:  movel %a3@(20),%sp@-
0x00003b96:  invalid
0x00003b98:  .short 0x0000
0x00003b9a:  mvzb %fp,%d4
0x00003b9c:  invalid
0x00003b9e:  .short 0x04ff
0x00003ba0:  .short 0xf0fa
0x00003ba2:  .short 0x504f
0x00003ba4:  braw 0x00000328
0x00003ba6:  cmpl %a3@(12),%d4
0x00003ba8:  bnes 0x00000274
0x00003baa:  tstl %a3@(16)
0x00003bac:  bnes 0x00000268
0x00003bae:  movel %d6,%a3@(16)
0x00003bb0:  movel %a4,%sp@-
0x00003bb2:  movel %a3,%sp@-
0x00003bb4:  invalid
0x00003bb6:  .short 0x0000
0x00003bb8:  moveaw %a2@-,%a1
0x00003bba:  bras 0x000002ce
0x00003bbc:  cmpl %a3@(12),%d5
0x00003bbe:  bnes 0x000002a2
0x00003bc0:  movel %a4,%sp@-
0x00003bc2:  movel %a3,%sp@-
0x00003bc4:  invalid
0x00003bc6:  breakpoint
0x00003bc8:  .short 0xf798
0x00003bca:  .short 0x504f
0x00003bcc:  tstl %d0
0x00003bce:  bnes 0x000002d4
0x00003bd0:  tstl %d2
0x00003bd2:  blew 0x00000328
0x00003bd4:  pea 0x00000001
0x00003bd6:  movel %d2,%sp@-
0x00003bd8:  invalid
0x00003bda:  .short 0x04ff
0x00003bdc:  .short 0xebfa
0x00003bde:  .short 0x504f
0x00003be0:  braw 0x00000328
0x00003be2:  cmpl %a3@(12),%d3
0x00003be4:  beqs 0x000002c4
0x00003be6:  movel %a3@(20),%sp@-
0x00003be8:  movel %a3@(12),%sp@-
0x00003bea:  invalid
0x00003bec:  .short 0x0000
0x00003bee:  invalid
0x00003bf0:  invalid
0x00003bf2:  .short 0x04ff
0x00003bf4:  .short 0xf090
0x00003bf6:  .short 0x504f
0x00003bf8:  .short 0x584f
0x00003bfa:  braw 0x000001e6
0x00003bfc:  movel %a4,%sp@-
0x00003bfe:  movel %a3,%sp@-
0x00003c00:  invalid
0x00003c02:  .short 0x0000
0x00003c04:  .short 0x317e
0x00003c06:  .short 0x504f
0x00003c08:  tstl %d0
0x00003c0a:  beqs 0x00000328
0x00003c0c:  invalid
0x00003c0e:  breakpoint
0x00003c10:  .short 0xfecf
0x00003c12:  .short 0x001c
0x00003c14:  beqw 0x000001e6
0x00003c16:  invalid
0x00003c18:  .short 0x000c
0x00003c1a:  .short 0x000c
0x00003c1c:  invalid
0x00003c1e:  .short 0x0010
0x00003c20:  .short 0x0010
0x00003c22:  clrl %sp@-
0x00003c24:  clrl %sp@-
0x00003c26:  movel %a4,%sp@-
0x00003c28:  invalid
0x00003c2a:  .short 0x04ff
0x00003c2c:  .short 0xed42
0x00003c2e:  .short 0x504f
0x00003c30:  .short 0x584f
0x00003c32:  tstl %d0
0x00003c34:  beqw 0x000001e6
0x00003c36:  moveq #-102,%d1
0x00003c38:  cmpl %d0,%d1
0x00003c3a:  beqw 0x000001e6
0x00003c3c:  movel %d0,%sp@-
0x00003c3e:  invalid
0x00003c40:  .short 0x04ff
0x00003c42:  .short 0xec26
0x00003c44:  movel %d0,%sp@-
0x00003c46:  invalid
0x00003c48:  .short 0x0000
0x00003c4a:  mvzw %a3@-,%d4
0x00003c4c:  invalid
0x00003c4e:  .short 0x04ff
0x00003c50:  .short 0xf02c
0x00003c52:  .short 0x504f
0x00003c54:  .short 0x584f
0x00003c56:  braw 0x000001e6
0x00003c58:  movel %a3,%sp@-
0x00003c5a:  invalid
0x00003c5c:  btst %d2,%d0
0x00003c5e:  movel %d6,%a2@(20114)
0x00003c60:  movel %a4,%sp@-
0x00003c62:  jsr %a2@
0x00003c64:  invalid
0x00003c66:  moveb #-48,%fp@+
0x00003c68:  unlk %fp
0x00003c6a:  rts
